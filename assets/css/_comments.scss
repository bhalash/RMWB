/**
 * Comments Template and Commentform
 * -----------------------------------------------------------------------------
 * @category   Stylesheet
 * @package    Sheepie
 * @author     Mark Grealish <mark@bhalash.com>
 * @copyright  Copyright (c) 2015 Mark Grealish
 * @license    https://www.gnu.org/copyleft/gpl.html The GNU General Public License v3.0
 * @version    3.0
 * @link       https://github.com/bhalash/sheepie
 *
 * This file is part of Sheepie.
 * 
 * Sheepie is free software: you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software 
 * Foundation, either version 3 of the License, or (at your option) any later
 * version.
 * 
 * Sheepie is distributed in the hope that it will be useful, but WITHOUT ANY 
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License along with 
 * Sheepie. If not, see <http://www.gnu.org/licenses/>.
 */

/**
 * Input Element Border
 * -----------------------------------------------------------------------------
 */

%input-border {
    border: 1px solid palette(black, x-light);
    box-sizing: border-box;

    &:focus {
        border-color: palette(black);
    }
}

/**
 * Comment Area Miscellaneous Rules
 * -----------------------------------------------------------------------------
 */

h5.reply-title {
    // Bold black text dividing section.
    @include margin(1, bottom);
}

#reply-title.comment-reply-title {
    // WordPres inserts it, but it is extraenous. 
    display: none !important;
}

/*
 * Reader Comments
 * -----------------------------------------------------------------------------
 */

#comments {
    ul {
        margin: 0;
        padding: 0;
        position: relative;
    }

    p {
        @include margin(0.5, bottom);
    }
}

li.comment {
    box-sizing: border-box;
    list-style-type: none;
    @include flex-parent(row);
    @include padding(1.5 0);

    .comment-interior {
        @include flex-child(1);
    }

    &:not(:first-of-type) {
        border-top: 1px solid palette(black, x-light);
    }
}

/**
 * Comment Header
 * -----------------------------------------------------------------------------
 */

li.comment header {
    @include flex-parent(row);

    @include media(portrait) {
        @include flex-parent(column);
        @include margin(0.5, bottom);
    }

    p {
        font-weight: bold;
        @include flex-child(1);

        @include media(portrait) {
            margin: 0;
        }
    }

    p.date {
        text-align: right;

        @include media(portrait) {
            text-align: left;
        }
    }
}

/**
 * Comment Footer
 * -----------------------------------------------------------------------------
 * Basically the "edit comment" link.
 */

li.comment footer p {
    margin: 0; 
}

/**
 * Focused Comment
 * -----------------------------------------------------------------------------
 */

.focused-comment {
    /* Focused comment expands to either side, but the content within remains
     * unchanged */
    $comment-padding: 15px;

    border: 0;
    width: calc(100% + #{$comment-padding} * 2);
    @include padding(1.5 0);
    @include relative(-$comment-padding, left);
}

/**
 * Comment Input Form
 * -----------------------------------------------------------------------------
 */

#commentform {
    input,textarea {
        @extend %input-border;
        padding: 5px;

        @include placeholder-style() {
            font-size: inherit;
        }
    }

    p, input {
        @extend small;
    }

    textarea {
        height: 200px;
    }

    input[type=submit] {
        height: 30px;
        max-width: 149px;
        @include padding(0.5, bottom);
    }
}

.commentform-inputs {
    // Wrapper container for the inputs on the commentform.
    @extend %article-child;
    @include margin(1, bottom);
}
