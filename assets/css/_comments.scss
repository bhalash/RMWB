/**
 * Comments
 * -----------------------------------------------------------------------------
 * @category   Stylesheet
 * @package    Sheepie
 * @author     Mark Grealish <mark@bhalash.com>
 * @copyright  Copyright (c) 2015 Mark Grealish
 * @license    https://www.gnu.org/copyleft/gpl.html The GNU General Public License v3.0
 * @version    3.0
 * @link       https://github.com/bhalash/sheepie
 *
 * This file is part of Sheepie.
 * 
 * Sheepie is free software: you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software 
 * Foundation, either version 3 of the License, or (at your option) any later
 * version.
 * 
 * Sheepie is distributed in the hope that it will be useful, but WITHOUT ANY 
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License along with 
 * Sheepie. If not, see <http://www.gnu.org/licenses/>.
 */

/*
 * Reader Comments
 * -----------------------------------------------------------------------------
 */

#comments {
    ul {
        margin: 0;
        padding: 0;
        position: relative;
    }

    h5.reply-title {
        margin-bottom: margin(1);
    }
}

/*
 * Comment Layout
 * -----------------------------------------------------------------------------
 * I hate WordPress comments. Grumble.
 */

.comment, .comment header {
    @include flex-parent(row);
}

.comment {
    box-sizing: border-box;
    list-style-type: none;
    padding: padding(1.5) 0;

    &:not(:first-child) {
        border-width: 1px 0 0 0;
    }

    header p, .comment-interior {
        @include flex-child(1);
    }

    header {
        @include media(portrait) {
            @include flex-parent(column);

            margin-bottom: margin(0.5);
        }

        p {
            color: palette(black, light);
            font-size: 90%;

            @include media(portrait) {
                margin: 0;
            }
        }

        .date {
            text-align: right;

            @include media(portrait) {
                text-align: left;
            }
        }

    }

    footer p {
        margin: 0; 
    }

    div.comment-body {
        p {
            font-size: 85%;
        }
    }
}

.focused-comment {
    /* Focused comment expands to either side, but the content within remains
     * unchanges */
    $comment-padding: padding(1.5);

    border: 0;
    left: -$comment-padding;
    padding: $comment-padding 0;
    position: relative;
    width: calc(100% + #{$comment-padding} * 2);
}

/*
 * Comment Input Form
 * -----------------------------------------------------------------------------
 */

#commentform {
    @extend %clearfix;
    width: 100%;

    input, textarea {
        &:not(textarea) {
            margin-bottom: margin(0.5);
        }
    }

    .commentform-inputs {
        // Wrapper container for the inputs on the commentform.
        @include flex-parent(row);

        @include media(smartphone) {
            @include flex-parent(column);
        }

        input {
            @include flex-child(1);

            &:not(:last-of-type) {
                margin-right: margin(0.5);

                @include media(smartphone) {
                    margin-right: 0;
                }
            }
        }
    }

    textarea {
        height: 100px;
    }

    p.form-submit {
        margin-bottom: 0;
    }

    input[type=submit] {
        height: padding(3);
        max-width: 149px;
        padding: paddinG(0.5);
    }
}