/**
 * Theme Header
 * -----------------------------------------------------------------------------
 * @category   Stylesheet
 * @package    Sheepie
 * @author     Mark Grealish <mark@bhalash.com>
 * @copyright  Copyright (c) 2015 Mark Grealish
 * @license    https://www.gnu.org/copyleft/gpl.html The GNU GPL v3.0
 * @version    3.0
 * @link       https://github.com/bhalash/sheepie
 */

/**
 * Sidebar Interior Element Defaults
 * -----------------------------------------------------------------------------
 * External rules for the header container are set in _containers.css. All rules
 * in this stylesheet are for elements /internal/ to #header.
 */

.navbar {
    /**
     * Content Wrapper
     * -------------------------------------------------------------------------
     * Push in child content and direct it to the bottom. Used to absolutely
     * position in IE9.
     */

    &__contentwrap {
        box-sizing: border-box;
        // Stops weird problems with IE.
        overflow: hidden;
        padding: 1.25rem;
        z-index: 2;

        @include navbar-size;

        @include navbar-size-1024 {
            padding: 0 rem($navbar-height--collapsed * 0.25);
        }
    }

    /**
     * Navbar Content
     * -------------------------------------------------------------------------
     * Title, menu, social links, and more all go in here. This is a vertical
     * flex layout, with the content pushed to the bottom. The same content is
     * absolutely positioned in IE9.
     */

    &__content {
        display: flex;
        flex-direction: column;
        height: 100%;
        justify-content: flex-end;

        @include media(large) {
            flex-direction: row;
            justify-content: justify-content;
        }
    }

    /**
     * Sidebar Child Elements
     * -------------------------------------------------------------------------
     * Most elements here are generated dynamically by WordPrss.
     */

    &__child {
        color: color(whites, x-light);

        &:not(:last-child) {
            @include margin($vspace, bottom);

            @include media(large) {
                margin: 0;
            }
        }

        a {
            color: inherit;
            letter-spacing: 1.5px;
        }
    }

    /**
     * Site Title Wrapper and title
     * -------------------------------------------------------------------------
     * order: 2 centers the title at smaller screen sizes.
     */

    &__titlewrapper {
        flex: 0 1 auto;

        @include media(large) {
            flex: 0 1 60%;
            order: 2;
            text-align: center;
        }

        @include media(small) {
            flex: 1;
            text-align: left;
        }
    }

    &__title {
        line-height: 120%;

        @include media(large) {
            font-size: 1.25rem;
            line-height: rem($navbar-height--collapsed);
        }
    }

    &__title-link {
        display: block;
        font-weight: 400;
        height: 100%;
    }

    /**
     * Site Description
     * -------------------------------------------------------------------------
     */

    &__description {
        flex: 0 1 auto;

        @include media(large) {
            display: none;
        }
    }

    /**
     * Sidebar Social Media Menu
     * -------------------------------------------------------------------------
     * Horizontal row of external social media links. order: 1 puts it on the
     * left at smaller screen sizes.
     */

    &__social-wrapper {
        @include media(large) {
            // Inherit 3.75rem height in collapsed state.
            flex: 0 1 20%;
            height: 100%;
            min-width: 7.5rem;
            order: 1;
        }

        @include media(small) {
            display: none;
        }
    }

    &__social {
        height: 100%;
        list-style-type: none;

        .menu-item {
            float: left;
            // WordPress requires menu links to have a text label.
            // This forcibly hides the label in favour of the icon.
            font-size: 0 !important;
            // Override default line-height set for items.
            // Otherwise IE9, 10 and 11 wig out.
            line-height: normal;
            overflow: hidden;
            @include square-flex(25% 1);

            @include media(large) {
                // Revert to a height-filling state with a fixed rem width.
                // This presents a larger touch target.
                height: 100%;
                padding-bottom: 0;
                width: rem($navbar-height--collapsed * 0.5);
            }

            a, span {
                display: block;
                font-size: inherit;
                line-height: inherit;
                @include square-flex(100% 1);
            }

            a {
                @include media(large) {
                    box-sizing: border-box;
                    padding: rem($navbar-height--collapsed * 0.25) 0;
                }
            }
        }
    }

    /**
     * Social Menu Icon
     * -------------------------------------------------------------------------
     * Icon is deoupled from the parent container.
     */

    &__socialicon {
        // Side is set above in .menu-item.
        display: block;
    }

    /**
     * Sidebar Bottom Buttons
     * -------------------------------------------------------------------------
     * order: 3 puts it on the right at smaller screen sizes.
     */

    &__buttonrow {
        flex: 0 1 auto;
        overflow: hidden;

        @include media(large) {
            flex: 0 1 30%;
            min-width: 1.25rem;
            order: 3;
        }

        @include media(small) {
            min-width: 3.2rem;
        }
    }
}

/**
 * Lightbox Image
 * -----------------------------------------------------------------------------
 * There is a JavaScript component to determine state, but it is mostly handled
 * through this CSS.
 */

.lightbox {
    background: color(blacks, dark);
    outline: 0;
    transition: opacity .15s;
    z-index: 4;
    @include fixed(0);

    &__anchor {
        align-items: center;
        display: flex;
        justify-content: center;
        @include absolute(0);
    }

    &__image {
        max-height: 95%;
        max-width: 95%;
    }
}
