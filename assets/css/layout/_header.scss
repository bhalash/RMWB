/**
 * Theme Header
 * -----------------------------------------------------------------------------
 * @category   Stylesheet
 * @package    Sheepie
 * @author     Mark Grealish <mark@bhalash.com>
 * @copyright  Copyright (c) 2015 Mark Grealish
 * @license    https://www.gnu.org/copyleft/gpl.html The GNU GPL v3.0
 * @version    3.0
 * @link       https://github.com/bhalash/sheepie
 */

/**
 * Sidebar Interior Element Defaults
 * -----------------------------------------------------------------------------
 * External rules for the header container are set in _containers.css. All rules
 * in this stylesheet are for elements /internal/ to #header.
 */

.navbar {
    /**
     * Content Wrapper
     * -------------------------------------------------------------------------
     * Push in child content and direct it to the bottom. Used to absolutely
     * position in IE9.
     */

    &__contentwrap {
        box-sizing: border-box;
        // Stops weird problems with IE.
        overflow: hidden;
        padding: 1.25rem;
        z-index: 2;

        @include navbar-size;

        @include navbar-size-1024 {
            padding: 0 rem($navbar-height--collapsed * 0.25);
        }
    }

    /**
     * Navbar Content
     * -------------------------------------------------------------------------
     * Title, menu, social links, and more all go in here. This is a vertical
     * flex layout, with the content pushed to the bottom. The same content is
     * absolutely positioned in IE9.
     */

    &__content {
        display: flex;
        flex-direction: row;
        height: 100%;
        justify-content: justify-content;

        @include media(1024) {
            flex-direction: column;
            justify-content: flex-end;
        }

        /**
         * Social Buttons
         * ---------------------------------------------------------------------
         * order: 1 puts it on the left at smaller screen sizes.
         */

        &__social {
            display: none;

            @include media(640) {
                display: initial;
                // Inherit 3.75rem height in collapsed state.
                flex: 0 1 20%;
                height: 100%;
                min-width: 7.5rem;
                order: 1;
            }

            @include media(1024) {
                flex: 0 1 auto;
                height: auto;
                min-width: 0;
                order: initial;
            }
        }

        /**
         * Title
         * ---------------------------------------------------------------------
         * order: 2 puts it in the center at smaller screen sizes.
         */

        &__title {
            flex: 0 1 auto;

            @include media(large) {
                flex: 0 1 60%;
                order: 2;
                text-align: center;
            }

            @include media(small) {
                flex: 1;
                text-align: left;
            }
        }

        /**
         * Navigation Buttons
         * ---------------------------------------------------------------------
         * order: 3 puts it on the right at smaller screen sizes.
         */

        &__buttonrow {
            min-width: 3.2rem;
            order: 3;

            @include media(640) {
                flex: 0 1 30%;
                min-width: 1.25rem;
            }

            @include media(1024) {
                flex: 0 1 auto;
            }
        }
    }

    /**
     * Sidebar Child Elements
     * -------------------------------------------------------------------------
     * Most elements here are generated dynamically by WordPrss.
     */

    &__child {
        color: color(whites, x-light);

        &:not(:last-child) {
            margin: 0;

            @include media(1024) {
                @include margin($vspace, bottom);
            }
        }

        a {
            color: inherit;
            letter-spacing: 1.5px;
        }
    }

    /**
     * Site Title Wrapper and title
     * -------------------------------------------------------------------------
     * order: 2 centers the title at smaller screen sizes.
     */

    &__title {
        font-size: 1.25rem;
        line-height: rem($navbar-height--collapsed);

        @include media(1024) {
            font-size: 3rem;
            line-height: 120%;
        }
    }

    &__title-link {
        display: block;
        font-weight: 400;
        height: 100%;
    }

    /**
     * Site Description
     * -------------------------------------------------------------------------
     */

    &__description {
        flex: 0 1 auto;

        @include media(large) {
            display: none;
        }
    }

    /**
     * Sidebar Social Media Menu
     * -------------------------------------------------------------------------
     * Horizontal row of external social media links. order: 1 puts it on the
     * left at smaller screen sizes.
     */

    &__social {
        height: 100%;
        list-style-type: none;

        .menu-item {
            float: left;
            // WordPress requires menu links to have a text label.
            // This forcibly hides the label in favour of the icon.
            font-size: 0 !important;
            // Override default line-height set for items.
            // Otherwise IE9, 10 and 11 wig out.
            line-height: normal;
            overflow: hidden;
            @include square-flex(25% 1);

            @include media(large) {
                // Revert to a height-filling state with a fixed rem width.
                // This presents a larger touch target.
                height: 100%;
                padding-bottom: 0;
                width: rem($navbar-height--collapsed * 0.5);
            }

            a, span {
                display: block;
                font-size: inherit;
                line-height: inherit;
                @include square-flex(100% 1);
            }

            a {
                box-sizing: border-box;
                padding: rem($navbar-height--collapsed * 0.25) 0;

                @include media(1024) {
                    padding: 0;
                }
            }
        }
    }

    /**
     * Social Menu Icon
     * -------------------------------------------------------------------------
     * Icon is deoupled from the parent container.
     */

    &__socialicon {
        // Side is set above in .menu-item.
        display: block;
    }
}
